.include "address_map_arm.s"

.text /* executable code follows */
.global _start

_start:
LDR R1, =JP7_BASE
LDR R2, =JP1_BASE
LDR R4, =LOOKUP

LDR R5, =0xFFFFFFFF
STR R5, [R2, #4]

LOOP:
LDR R6, [R1]
AND R7, R6, #0b11110000
LSR R7, #4

AND R8, R6, #0b00001111

LDR R9, [R4, R7, LSL #2]
LDR R10, [R4, R8, LSL #2]

LSL R9, #8
ADD R11, R9, R10
STR R11, [R2]
B LOOP

LOOKUP:
.word 0b11000000, 0b11001111, 0b10010010, 0b10000110
.word 0b10001101, 0b10100100, 0b10100000, 0b11001110
.word 0b10000000, 0b10000100, 0b10001000, 0b10100001 
.word 0b10110011, 0b10000011, 0b10110000, 0b10111000